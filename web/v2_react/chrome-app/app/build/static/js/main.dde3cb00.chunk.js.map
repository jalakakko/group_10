{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/ProgressBar.js","hooks/useStorage.js","components/UploadForm.js","components/ImageGrid.js","hooks/useFirestore.js","components/Modal.js","contexts/ToolbarContext.js","components/MenuAppBar.js","components/Dashboard.js","components/Signup.js","components/Login.js","components/ForgotPassword.js","components/UpdateProfile.js","components/Profile.js","components/Gdpr.js","components/PrivateRoute.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","auth","firestore","storage","timestamp","FieldValue","serverTimestamp","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","ProgressBar","file","setFile","lang","setError","progress","setProgress","error","url","setUrl","storageRef","ref","uid","name","collectionRef","collection","listRef","fileArray","listAll","then","res","a","items","forEach","itemRef","push","console","log","put","on","snap","prc","bytesTransferred","totalBytes","err","getDownloadURL","createdAt","worker","createWorker","logger","m","load","loadLanguage","initialize","recognize","text","data","terminate","add","useStorage","motion","div","className","initial","width","animate","UploadForm","language","setLanguage","types","type","id","onChange","e","selected","target","files","includes","style","display","htmlFor","justifyContent","IconButton","color","component","paddingTop","RadioGroup","row","FormControlLabel","control","Radio","label","labelPlacement","ImageGrid","setSelectedImg","setSelectedText","docs","setDocs","unsub","orderBy","onSnapshot","documents","doc","useFirestore","map","layout","whileHover","opacity","onClick","img","src","alt","transition","delay","Modal","selectedImg","selectedText","classList","contains","y","ToolbarContext","MenuAppBar","setAuth","navigate","useNavigate","handleProfile","toString","handleDashboard","handleUpdate","Box","sx","flexGrow","variant","FormGroup","Switch","checked","event","AppBar","position","Toolbar","Typography","size","handleRoutes","Dashboard","setText","Card","Body","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","preventDefault","current","Alert","Form","onSubmit","Group","Label","Control","required","Button","disabled","to","Login","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","catch","finally","defaultValue","placeholder","Profile","Gdpr","agree","setAgree","height","paddingBottom","marginLeft","PrivateRoute","App","useMemo","Container","minHeight","maxWidth","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4MAKMA,G,qBAAMC,IAASC,cAAc,CAC/BC,OAAQC,gMAAYC,2BACpBC,WAAYF,gMAAYG,+BACxBC,UAAWJ,gMAAYK,8BACvBC,YAAaN,gMAAYO,gCACzBC,cAAeR,gMAAYS,kCAC3BC,kBAAmBV,gMAAYW,uCAC/BC,MAAOZ,gMAAYa,6BAGVC,EAAOlB,EAAIkB,OACXC,EAAYnB,EAAImB,YAChBC,EAAUpB,EAAIoB,UACdC,EAAYpB,IAASkB,UAAUG,WAAWC,gB,OChBjDC,EAAcC,IAAMC,gBAEnB,SAASC,IACZ,OAAOC,qBAAWJ,GAGf,SAASK,EAAT,GAAqC,IAAbC,EAAY,EAAZA,SAC3B,EAAsCC,qBAAtC,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KA0BAC,qBAAU,WAON,OANoBlB,EAAKmB,oBAAmB,SAAAC,GACxCL,EAAeK,GACfH,GAAW,QAKhB,IAEH,IAAMI,EAAQ,CACVP,cACAQ,MAhCJ,SAAeC,EAAOC,GAClB,OAAOxB,EAAKyB,2BAA2BF,EAAOC,IAgC9CE,OArCJ,SAAgBH,EAAOC,GACnB,OAAOxB,EAAK2B,+BAA+BJ,EAAOC,IAqClDI,OA9BJ,WACI,OAAO5B,EAAK6B,WA8BZC,cA3BJ,SAAuBP,GACnB,OAAOvB,EAAK+B,uBAAuBR,IA2BnCS,YAxBJ,SAAqBT,GACjB,OAAOT,EAAYkB,YAAYT,IAwB/BU,eArBJ,SAAwBT,GACpB,OAAOV,EAAYmB,eAAeT,KAuBtC,OACI,cAAClB,EAAY4B,SAAb,CAAsBb,MAAOA,EAA7B,UACML,GAAWJ,I,kFCrDV,SAASuB,EAAT,GAAuD,IAAjCC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,SAEtD,ECFW,SAAoBH,EAAME,GAErC,MAAgCzB,mBAAS,GAAzC,mBAAO2B,EAAP,KAAiBC,EAAjB,KACA,EAA0B5B,mBAAS,IAAnC,mBAAO6B,EAAP,KAAcH,EAAd,KACA,EAAsB1B,mBAAS,IAA/B,mBAAO8B,EAAP,KAAYC,EAAZ,KACQ9B,EAAgBL,IAAhBK,YA2CR,OAxCAI,qBAAU,WACN,IAAM2B,EAAa3C,EAAQ4C,IAAIhC,EAAYiC,IAAM,IAAMX,EAAKY,MACtDC,EAAgBhD,EAAUiD,WAAWpC,EAAYiC,KACjDI,EAAUjD,EAAQ4C,IAAIhC,EAAYiC,KAClCK,EAAY,GAElBD,EAAQE,UACPC,KADD,uCACO,WAAOC,GAAP,iBAAAC,EAAA,sDACHD,EAAIE,MAAMC,SAAQ,SAACC,GACfP,EAAUQ,KAAKD,MAFhB,cAIeP,GAJf,IAIH,2BAA6B,QAChBJ,OAASZ,EAAKY,OACnBT,EAAS,gBACTsB,QAAQC,IAAIpB,IAPjB,yEADP,uDAYAG,EAAWkB,IAAI3B,GAAM4B,GAAG,iBAAiB,SAACC,GACtC,IAAIC,EAAOD,EAAKE,iBAAmBF,EAAKG,WAAc,IACtD3B,EAAYyB,MACb,SAACG,GACA9B,EAAS8B,KAJb,sBAKG,oCAAAb,EAAA,sEACmBX,EAAWyB,iBAD9B,cACO3B,EADP,OAEO4B,EAAYpE,IACZqE,EAASC,uBAAa,CACxBC,OAAQ,SAAAC,GAAC,OAAId,QAAQC,IAAIa,MAJ9B,SAMOH,EAAOI,OANd,uBAOOJ,EAAOK,aAAavC,GAP3B,wBAQOkC,EAAOM,WAAWxC,GARzB,yBASkCkC,EAAOO,UAAUpC,GATnD,wBASiBqC,EATjB,EASSC,KAAQD,KAChBnB,QAAQC,IAAIkB,GAVb,UAWOR,EAAOU,YAXd,QAYCjC,EAAckC,IAAI,CAAExC,MAAK4B,YAAWS,SACpCpC,EAAOD,GAbR,+CAeJ,CAACP,EAAMtB,EAAawB,EAAMI,IAEtB,CAAEF,WAAUG,MAAKD,SD9CS0C,CAAWhD,EAAME,GAA1CK,EAAR,EAAQA,IAAKH,EAAb,EAAaA,SAAUE,EAAvB,EAAuBA,MAYvB,OAXAmB,QAAQC,IAAItB,EAAUG,GAEtBzB,qBAAU,WACFwB,GACAH,EAASG,GAEVC,GACCN,EAAQ,QAEb,CAACM,EAAKN,EAASE,EAAUG,IAGxB,cAAC2C,EAAA,EAAOC,IAAR,CAAYC,UAAU,eAClBC,QAAS,CAAEC,MAAO,GAClBC,QAAS,CAAED,MAAOjD,EAAW,O,0DEd1B,SAASmD,IAEpB,MAAwB9E,mBAAS,MAAjC,mBAAOuB,EAAP,KAAaC,EAAb,KACA,EAAgCxB,mBAAS,OAAzC,mBAAO+E,EAAP,KAAiBC,EAAjB,KACA,EAA0BhF,mBAAS,IAAnC,mBAAO6B,EAAP,KAAcH,EAAd,KACMuD,EAAQ,CAAC,YAAa,cAkB5B,OACI,iCACI,uBAAOC,KAAK,OAAOR,UAAU,mBAAmBS,GAAG,mBACnDC,SAnBR,SAAuBC,GACnB,IAAIC,EAAWD,EAAEE,OAAOC,MAAM,GAE1BF,GAAYL,EAAMQ,SAASH,EAASJ,OACpC1D,EAAQ8D,GACR5D,EAAS,MAETF,EAAQ,MACRE,EAAS,+CAWgBgE,MAAO,CAAEC,QAAS,UAC3C,uBAAOC,QAAQ,mBAAmBF,MAAO,CAACC,QAAS,OAAQE,eAAgB,UAA3E,SACI,cAACC,EAAA,EAAD,CAAaC,MAAM,UAAU,aAAW,iBACxCC,UAAU,OADV,SAEI,cAAC,IAAD,QAGR,sBAAKtB,UAAU,SAAf,UACK7C,GAAS,sBAAK6C,UAAU,QAAf,cAA0B7C,EAA1B,OACTN,GAAQ,oCAAQA,EAAKY,KAAb,OACRZ,GAAQ,cAACD,EAAD,CAAaC,KAAMA,EAAMC,QAASA,EAASC,KAAMsD,EAAUrD,SAAUA,OAElF,oBAAIgE,MAAO,CAACC,QAAS,OAAQE,eAAgB,SAAUI,WAAY,QAAnE,2BACA,eAACC,EAAA,EAAD,CAAYC,KAAG,EACf,aAAW,SACXhE,KAAK,sBACLiD,SAvBR,SAAwBC,GACpBL,EAAYK,EAAEE,OAAO/E,QAuBjBkF,MAAO,CAACC,QAAS,OAAQE,eAAgB,gBAJzC,UAKI,cAACO,EAAA,EAAD,CAAkB5F,MAAM,MAAM6F,QAAS,cAACC,EAAA,EAAD,IAAWC,MAAM,YACxD,cAACH,EAAA,EAAD,CAAkB5F,MAAM,MAAM6F,QAAS,cAACC,EAAA,EAAD,IAAWC,MAAM,UAAUC,eAAe,gB,YChDlF,SAASC,EAAT,GAAuD,IAAnCC,EAAkC,EAAlCA,eAAgBC,EAAkB,EAAlBA,gBAE/C,ECJW,SAAsBtE,GACjC,MAAyBrC,mBAAS,IAAlC,mBAAO4G,EAAP,KAAaC,EAAb,KAgBA,OAdAxG,qBAAU,WACN,IAAMyG,EAAQ1H,EAAUiD,WAAWA,GAClC0E,QAAQ,YAAa,QACrBC,YAAW,SAAC5D,GACT,IAAI6D,EAAY,GAChB7D,EAAKP,SAAQ,SAAAqE,GACTD,EAAUlE,KAAV,2BAAmBmE,EAAI9C,QAAvB,IAA+Be,GAAI+B,EAAI/B,SAE3C0B,EAAQI,MAGZ,OAAO,kBAAMH,OACd,CAACzE,IAEG,CAAEuE,QDbQO,CADOvH,IAAhBK,YACkCiC,KAAlC0E,EAAR,EAAQA,KAER,OACI,qBAAKlC,UAAU,WAAf,SACMkC,GAAQA,EAAKQ,KAAI,SAAAF,GAAG,OACtB,cAAC1C,EAAA,EAAOC,IAAR,CAAYC,UAAU,WAClB2C,QAAM,EACNC,WAAY,CAAEC,QAAS,GACvBC,QAAS,WACTd,EAAeQ,EAAIpF,KACnB6E,EAAgBO,EAAI/C,OALxB,SAOI,cAACK,EAAA,EAAOiD,IAAR,CAAYC,IAAKR,EAAIpF,IAAK6F,IAAI,eAC1BhD,QAAS,CAAE4C,QAAS,GACpB1C,QAAS,CAAE0C,QAAS,GACpBK,WAAY,CAAEC,MAAO,MAVSX,EAAI/B,SETvC,SAAS2C,EAAT,GAA8E,IAA9DC,EAA6D,EAA7DA,YAAarB,EAAgD,EAAhDA,eAAgBC,EAAgC,EAAhCA,gBAAiBqB,EAAe,EAAfA,aASzE,OACI,mCACA,eAACxD,EAAA,EAAOC,IAAR,CAAYC,UAAU,WAAW8C,QATrC,SAAqBnC,GACdA,EAAEE,OAAO0C,UAAUC,SAAS,cAC3BxB,EAAe,MACfC,EAAgB,QAOhBhC,QAAS,CAAE4C,QAAS,GACpB1C,QAAS,CAAE0C,QAAS,GAFxB,UAGI,cAAC/C,EAAA,EAAOiD,IAAR,CAAYC,IAAKK,EAAaJ,IAAI,eAC9BhD,QAAS,CAAEwD,EAAG,SACdtD,QAAS,CAAEsD,EAAG,KAClB,oBAAIzC,MAAO,CAACC,QAAS,OAAQE,eAAgB,SAAUE,MAAO,SAA9D,SAAyEiC,S,uGClBxEI,EAAiBzI,wBAAc,MCa7B,SAAS0I,IACpB,MAAwB3I,YAAe,GAAvC,mBAAOP,EAAP,KAAamJ,EAAb,KACA,EAA0B5I,WAAe,IAAzC,mBAAOmC,EAAP,KAAcH,EAAd,KACM6G,EAAWC,cACTrE,EAASzE,aAAiB0I,GAA1BjE,KAMR,SAASsE,IACP,IACE/G,EAAS,IACT6G,EAAS,YACT,MAAMlD,GACJ3D,EAAS2D,EAAEqD,WAIjB,SAASC,IACP,IACEjH,EAAS,IACT6G,GAAU,GACV,MAAMlD,GACJ3D,EAAS2D,EAAEqD,WAIjB,SAASE,IACP,IACElH,EAAS,IACT6G,GAAU,GACV,MAAMlD,GACJ3D,EAAS2D,EAAEqD,WAiBjB,OACE,eAACG,EAAA,EAAD,CAAKC,GAAI,CAAEC,SAAU,GAArB,UACGlH,GAAS,cAAC,IAAD,CAAOmH,QAAQ,SAAf,SAAyBnH,IACnC,cAACoH,EAAA,EAAD,UACE,cAAC7C,EAAA,EAAD,CACEC,QACE,cAAC6C,EAAA,EAAD,CACEC,QAAShK,EACTiG,SApDS,SAACgE,GACpBd,EAAQc,EAAM7D,OAAO4D,UAoDX,aAAW,iBAGf5C,MAAOpH,EAAO,SAAW,YAG7B,cAACkK,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYrE,GAAG,YAAY6D,QAAQ,KAAKhD,UAAU,MAAM8C,GAAI,CAAEC,SAAU,GAAxE,SACG5E,IAEFhF,GACC,8BACE,cAAC,IAAD,CACEsK,KAAK,QACL,aAAW,0BACX,gBAAc,cACd,gBAAc,QACd1D,MAAM,UALR,SAnCZ,SAAsB5B,GACpB,OAAOA,GAOL,QACE,OAAO,cAAC,IAAD,CAAeqD,QAASiB,IALjC,IAAK,UACH,OAAO,cAAC,IAAD,CAAiBjB,QAASmB,IACnC,IAAK,sBACH,OAAO,cAAC,IAAD,CAAiBnB,QAASoB,KAmCxBc,CAAavF,eCtFjB,SAASwF,IACpB,MAAsC3J,mBAAS,MAA/C,mBAAO+H,EAAP,KAAoBrB,EAApB,KACA,EAAwC1G,mBAAS,MAAjD,mBAAOgI,EAAP,KAAqBrB,EAArB,KAKA,OAFAiD,EAFoB/J,qBAAWuI,GAAvBwB,SAEA,UAGJ,qCACI,cAACvB,EAAD,IACA,cAACwB,EAAA,EAAD,CAAMnF,UAAU,OAAhB,SACI,eAACmF,EAAA,EAAKC,KAAN,WACI,oBAAIpF,UAAU,mBAAd,oBACA,cAACI,EAAD,SAGR,cAAC2B,EAAD,CAAWC,eAAgBA,EAAgBC,gBAAiBA,IAC1DoB,GAAe,cAACD,EAAD,CAAOC,YAAaA,EAAarB,eAAgBA,EAAgBC,gBAAiBA,EAAiBqB,aAAcA,O,iCCpB/H,SAAS+B,KACpB,IAAMC,EAAWC,mBACXC,EAAcD,mBACdE,EAAqBF,mBACnBpJ,EAAYjB,IAAZiB,OACR,EAA0Bb,mBAAS,IAAnC,mBAAO6B,EAAP,KAAcH,EAAd,KACA,EAA8B1B,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACMmI,EAAWC,cAPY,4CAS7B,WAA4BnD,GAA5B,SAAA1C,EAAA,yDACI0C,EAAE+E,iBAEEF,EAAYG,QAAQ7J,QAAU2J,EAAmBE,QAAQ7J,MAHjE,yCAIekB,EAAS,2BAJxB,uBAQQA,EAAS,IACTtB,GAAW,GATnB,SAUcS,EAAOmJ,EAASK,QAAQ7J,MAAO0J,EAAYG,QAAQ7J,OAVjE,OAWQ+H,EAAS,KAXjB,kDAaQvF,QAAQC,IAAR,MACAvB,EAAS,+BAdjB,QAgBItB,GAAW,GAhBf,2DAT6B,sBA4B7B,OACI,qCACA,cAACyJ,EAAA,EAAD,UACI,eAACA,EAAA,EAAKC,KAAN,WACI,oBAAIpF,UAAU,mBAAd,qBACC7C,GAAS,cAACyI,EAAA,EAAD,CAAOtB,QAAQ,SAAf,SAAyBnH,IACnC,eAAC0I,GAAA,EAAD,CAAMC,SAlCW,4CAkCjB,UACI,eAACD,GAAA,EAAKE,MAAN,CAAYtF,GAAG,QAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,oBACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,QAAQjD,IAAK+H,EAAUY,UAAQ,OAEtD,eAACL,GAAA,EAAKE,MAAN,CAAYtF,GAAG,WAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,uBACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,WAAWjD,IAAKiI,EAAaU,UAAQ,OAE5D,eAACL,GAAA,EAAKE,MAAN,CAAYtF,GAAG,mBAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,oCACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,WAAWjD,IAAKkI,EAAoBS,UAAQ,OAEnE,cAACC,GAAA,EAAD,CAAQC,SAAU3K,EAASuE,UAAU,QAAQQ,KAAK,SAAlD,6BAIZ,sBAAKR,UAAU,yBAAf,sCAC6B,cAAC,IAAD,CAAMqG,GAAG,SAAT,0BCpDtB,SAASC,KACpB,IAAMhB,EAAWC,mBACXC,EAAcD,mBACZxJ,EAAWb,IAAXa,MACR,EAA0BT,mBAAS,IAAnC,mBAAO6B,EAAP,KAAcH,EAAd,KACA,EAA8B1B,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACMmI,EAAWC,cANW,4CAQ5B,WAA4BnD,GAA5B,SAAA1C,EAAA,6DACI0C,EAAE+E,iBADN,SAIQ1I,EAAS,IACTtB,GAAW,GALnB,SAMcK,EAAMuJ,EAASK,QAAQ7J,MAAO0J,EAAYG,QAAQ7J,OANhE,OAOQ+H,EAAS,KAPjB,gDASQ7G,EAAS,qBATjB,QAWItB,GAAW,GAXf,0DAR4B,sBAsB5B,OACI,qCACA,cAACyJ,EAAA,EAAD,UACI,eAACA,EAAA,EAAKC,KAAN,WACI,oBAAIpF,UAAU,mBAAd,oBACC7C,GAAS,cAACyI,EAAA,EAAD,CAAOtB,QAAQ,SAAf,SAAyBnH,IACnC,eAAC0I,GAAA,EAAD,CAAMC,SA5BU,4CA4BhB,UACI,eAACD,GAAA,EAAKE,MAAN,CAAYtF,GAAG,QAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,oBACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,QAAQjD,IAAK+H,EAAUY,UAAQ,OAEtD,eAACL,GAAA,EAAKE,MAAN,CAAYtF,GAAG,WAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,uBACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,WAAWjD,IAAKiI,EAAaU,UAAQ,OAE5D,cAACC,GAAA,EAAD,CAAQC,SAAU3K,EAASuE,UAAU,QAAQQ,KAAK,SAAlD,uBAEJ,qBAAKR,UAAU,yBAAf,SACI,cAAC,IAAD,CAAMqG,GAAG,mBAAT,qCAIZ,sBAAKrG,UAAU,yBAAf,8BACqB,cAAC,IAAD,CAAMqG,GAAG,UAAT,2BC7Cd,SAASE,KACpB,IAAMjB,EAAWC,mBACThJ,EAAmBrB,IAAnBqB,cACR,EAA0BjB,mBAAS,IAAnC,mBAAO6B,EAAP,KAAcH,EAAd,KACA,EAA8B1B,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA8BJ,mBAAS,IAAvC,mBAAOkL,EAAP,KAAgBC,EAAhB,KALqC,4CAMrC,WAA4B9F,GAA5B,SAAA1C,EAAA,6DACI0C,EAAE+E,iBADN,SAIQe,EAAW,IACXzJ,EAAS,IACTtB,GAAW,GANnB,SAOca,EAAc+I,EAASK,QAAQ7J,OAP7C,OAQQ2K,EAAW,8CARnB,kDAUQzJ,EAAS,4BAVjB,QAYItB,GAAW,GAZf,2DANqC,sBAqBrC,OACI,qCACA,cAACyJ,EAAA,EAAD,UACI,eAACA,EAAA,EAAKC,KAAN,WACI,oBAAIpF,UAAU,mBAAd,4BACC7C,GAAS,cAACyI,EAAA,EAAD,CAAOtB,QAAQ,SAAf,SAAyBnH,IAClCqJ,GAAW,cAACZ,EAAA,EAAD,CAAOtB,QAAQ,UAAf,SAA0BkC,IACtC,eAACX,GAAA,EAAD,CAAMC,SA5BmB,4CA4BzB,UACI,eAACD,GAAA,EAAKE,MAAN,CAAYtF,GAAG,QAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,oBACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,QAAQjD,IAAK+H,EAAUY,UAAQ,OAEtD,cAACC,GAAA,EAAD,CAAQC,SAAU3K,EAASuE,UAAU,QAAQQ,KAAK,SAAlD,+BAEJ,qBAAKR,UAAU,yBAAf,SACI,cAAC,IAAD,CAAMqG,GAAG,SAAT,2BAIZ,sBAAKrG,UAAU,yBAAf,8BACqB,cAAC,IAAD,CAAMqG,GAAG,UAAT,2BCvCd,SAASK,KACpB,IAAMpB,EAAWC,mBACXC,EAAcD,mBACdE,EAAqBF,mBAC3B,EAAsDrK,IAA9CK,EAAR,EAAQA,YAAakB,EAArB,EAAqBA,YAAaC,EAAlC,EAAkCA,eAClC,EAA0BpB,mBAAS,IAAnC,mBAAO6B,EAAP,KAAcH,EAAd,KACA,EAA8B1B,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACQwJ,EAAY/J,qBAAWuI,GAAvBwB,QACFrB,EAAWC,cAgCjB,OAFAoB,EAAQ,uBAGJ,qCACA,cAACvB,EAAD,IACA,cAACwB,EAAA,EAAD,UACI,eAACA,EAAA,EAAKC,KAAN,WACI,oBAAIpF,UAAU,mBAAd,4BACC7C,GAAS,cAACyI,EAAA,EAAD,CAAOtB,QAAQ,SAAf,SAAyBnH,IACnC,eAAC0I,GAAA,EAAD,CAAMC,SArClB,SAAsBnF,GAGlB,GAFAA,EAAE+E,iBAEEF,EAAYG,QAAQ7J,QAAU2J,EAAmBE,QAAQ7J,MACzD,OAAOkB,EAAS,0BAGpB,IAAM2J,EAAW,GACjB3J,EAAS,IACTtB,GAAW,GAEP4J,EAASK,QAAQ7J,QAAUP,EAAYS,OACvC2K,EAAStI,KAAK5B,EAAY6I,EAASK,QAAQ7J,QAGd,OAA9B0J,EAAYG,QAAQ7J,OACnB6K,EAAStI,KAAK3B,EAAe8I,EAAYG,QAAQ7J,QAGrD8K,QAAQC,IAAIF,GAAU5I,MAAK,WACvB8F,GAAU,MACXiD,OAAM,WACL9J,EAAS,+BACV+J,SAAQ,WACPrL,GAAW,OAaP,UACI,eAACmK,GAAA,EAAKE,MAAN,CAAYtF,GAAG,QAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,oBACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,QAAQjD,IAAK+H,EAChC0B,aAAczL,EAAYS,WAE9B,eAAC6J,GAAA,EAAKE,MAAN,CAAYtF,GAAG,WAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,uBACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,WAAWjD,IAAKiI,EACnCyB,YAAa,oCAEjB,eAACpB,GAAA,EAAKE,MAAN,CAAYtF,GAAG,mBAAf,UACI,cAACoF,GAAA,EAAKG,MAAN,oCACA,cAACH,GAAA,EAAKI,QAAN,CAAczF,KAAK,WAAWjD,IAAKkI,OAEvC,cAACU,GAAA,EAAD,CAAQC,SAAU3K,EAASuE,UAAU,QAAQQ,KAAK,SAAlD,+BC9DL,SAAS0G,KACpB,IAAQ3L,EAAgBL,IAAhBK,YAMR,OAHA2J,EAFoB/J,qBAAWuI,GAAvBwB,SAEA,WAIJ,qCACI,cAACvB,EAAD,IACA,cAACwB,EAAA,EAAD,UACQ,eAACA,EAAA,EAAKC,KAAN,WACI,oBAAIpF,UAAU,mBAAd,qBACA,6CAFJ,IAE8BzE,EAAYS,MACtC,cAAC,IAAD,CAAMqK,GAAG,kBAAkBrG,UAAU,6BAArC,oCCjBT,SAASmH,KACpB,MAA0B7L,mBAAS,MAAnC,mBAAO8L,EAAP,KAAcC,EAAd,KACA,EAA0B/L,mBAAS,MAAnC,mBAAO6B,EAAP,KAAcH,EAAd,KACM6G,EAAWC,cAiBjB,OACA,mCACI,sBAAK9C,MAAO,CAACd,MAAO,cAAeoH,OAAQ,OAAQC,cAAe,OAAQhG,WAAY,QAAtF,UACKpE,GAAS,cAACyI,EAAA,EAAD,UAAQzI,IAClB,oBAAI6C,UAAU,mBAAd,sCACA,oBAAIA,UAAU,mBAAd,oDACA,gCACI,yZACA,6UACA,gKACA,kMACA,kGACA,mTACA,kJACA,qGAEJ,uBAAOQ,KAAK,WAAWC,GAAG,QAAQC,SA/BlB,WACpB2G,GAAUD,MA+BN,wBAAOlG,QAAQ,QAAf,yBAAmC,wDAClCkG,GAAS,cAACjB,GAAA,EAAD,CAAQnG,UAAU,MAAM8C,QA7BxB,WACd,IACI9F,EAAS,IACT6G,EAAS,KACT,MAAMlD,GACJ3D,EAAS2D,EAAEqD,YAyBDhD,MAAO,CAACwG,WAAY,QADtB,2BCtCP,SAASC,GAAT,GAAqC,IAAbpM,EAAY,EAAZA,SAGnC,OAFwBH,IAAhBK,YAEaF,EAAW,cAAC,IAAD,CAAUgL,GAAG,WCsClCqB,OA/Bf,WACE,MAAwBpM,mBAAS,UAAjC,mBAAOmE,EAAP,KAAayF,EAAb,KACMpJ,EAAQ6L,mBAAQ,iBAAO,CAAElI,OAAMyF,aAAY,CAACzF,EAAMyF,IAExD,OACE,cAAC0C,EAAA,EAAD,CAAW5H,UAAU,mDAAmDgB,MAAO,CAAE6G,UAAW,SAA5F,SACI,qBAAK7H,UAAU,QAAQgB,MAAO,CAAE8G,SAAU,SAA1C,SACE,cAAC,IAAD,UACE,cAAC1M,EAAD,UACE,cAACsI,EAAe/G,SAAhB,CAAyBb,MAAOA,EAAhC,SACE,eAAC,IAAD,WACI,cAAC,IAAD,CAAOiM,OAAK,EAACC,KAAK,IAAIC,QAAS,cAACR,GAAD,UACC,cAACxC,EAAD,QAEhC,cAAC,IAAD,CAAO8C,OAAK,EAACC,KAAK,kBAAkBC,QAAS,cAACR,GAAD,UACT,cAACf,GAAD,QAEpC,cAAC,IAAD,CAAOsB,KAAK,UAAUC,QAAS,cAAC5C,GAAD,MAC/B,cAAC,IAAD,CAAO2C,KAAK,SAASC,QAAS,cAAC3B,GAAD,MAC9B,cAAC,IAAD,CAAO0B,KAAK,mBAAmBC,QAAS,cAAC1B,GAAD,MACxC,cAAC,IAAD,CAAOwB,OAAK,EAACC,KAAK,WAAWC,QAAS,cAACf,GAAD,MACtC,cAAC,IAAD,CAAOc,KAAK,QAAQC,QAAS,cAACd,GAAD,oB,cC7BjDe,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.dde3cb00.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\"\r\nimport \"firebase/compat/auth\"\r\nimport \"firebase/compat/firestore\"\r\nimport \"firebase/compat/storage\"\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nexport const auth = app.auth();\r\nexport const firestore = app.firestore();\r\nexport const storage = app.storage();\r\nexport const timestamp = firebase.firestore.FieldValue.serverTimestamp\r\nexport default app","import React, { useContext, useState, useEffect } from 'react'\r\nimport { auth } from '../firebase'\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    function signup(email, password) {\r\n        return auth.createUserWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function login(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function logout() {\r\n        return auth.signOut()\r\n    }\r\n\r\n    function resetPassword(email) {\r\n        return auth.sendPasswordResetEmail(email)\r\n    }\r\n\r\n    function updateEmail(email) {\r\n        return currentUser.updateEmail(email)\r\n    }\r\n\r\n    function updatePassword(password) {\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n            \r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    const value = {\r\n        currentUser,\r\n        login,\r\n        signup,\r\n        logout,\r\n        resetPassword,\r\n        updateEmail,\r\n        updatePassword }\r\n\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport useStorage from \"../hooks/useStorage\"\r\nimport { motion } from 'framer-motion'\r\n\r\n\r\nexport default function ProgressBar({file, setFile, lang, setError}) {\r\n\r\n    const { url, progress, error } = useStorage(file, lang)\r\n    console.log(progress, url)\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n            setError(error)\r\n        }\r\n        if(url) {\r\n            setFile(null)\r\n        }\r\n    }, [url, setFile, setError, error])\r\n\r\n    return (\r\n        <motion.div className=\"progress-bar\" \r\n            initial={{ width: 0 }}\r\n            animate={{ width: progress + '%'}}>\r\n            </motion.div>\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { storage, firestore, timestamp } from \"../firebase.js\"\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { createWorker } from \"tesseract.js\"\r\n\r\nexport default function useStorage(file, lang) {\r\n\r\n    const [progress, setProgress] = useState(0)\r\n    const [error, setError] = useState('')\r\n    const [url, setUrl] = useState('')\r\n    const { currentUser } = useAuth()\r\n\r\n\r\n    useEffect(() => {\r\n        const storageRef = storage.ref(currentUser.uid + '/' + file.name)\r\n        const collectionRef = firestore.collection(currentUser.uid)\r\n        const listRef = storage.ref(currentUser.uid)\r\n        const fileArray = []\r\n\r\n        listRef.listAll()\r\n        .then( async (res) => {\r\n            res.items.forEach((itemRef) => {\r\n                fileArray.push(itemRef)\r\n            })\r\n            for (let files of fileArray) {\r\n                if(files.name === file.name) {\r\n                    setError(\"Image exists\")\r\n                    console.log(error)\r\n                }\r\n            }\r\n        })\r\n        storageRef.put(file).on('state_changed', (snap) => {\r\n            let prc = (snap.bytesTransferred / snap.totalBytes) * 100\r\n            setProgress(prc)\r\n        }, (err) => {\r\n            setError(err)\r\n        }, async () => {\r\n            const url = await storageRef.getDownloadURL()\r\n            const createdAt = timestamp()\r\n            const worker = createWorker({\r\n                logger: m => console.log(m)\r\n            })\r\n            await worker.load();\r\n            await worker.loadLanguage(lang);\r\n            await worker.initialize(lang);\r\n            const { data: { text } } = await worker.recognize(url);\r\n            console.log(text);\r\n            await worker.terminate();\r\n            collectionRef.add({ url, createdAt, text })\r\n            setUrl(url)\r\n        })\r\n    }, [file, currentUser, lang, error])\r\n\r\n    return { progress, url, error }\r\n}\r\n","import React, { useState } from 'react'\r\nimport ProgressBar from './ProgressBar'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n\r\nexport default function UploadForm() {\r\n\r\n    const [file, setFile] = useState(null)\r\n    const [language, setLanguage] = useState(\"fin\")\r\n    const [error, setError] = useState('')\r\n    const types = ['image/png', 'image/jpeg']\r\n\r\n    function changeHandler(e) {\r\n        let selected = e.target.files[0]\r\n\r\n        if (selected && types.includes(selected.type)) {\r\n            setFile(selected)\r\n            setError('')\r\n        } else {\r\n            setFile(null)\r\n            setError('Please select an image file (png or jpeg)')\r\n        }\r\n    }\r\n\r\n    function changeLanguage(e) {\r\n        setLanguage(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <input type=\"file\" className=\"text-center mb-4\" id=\"icon-button-file\" \r\n            onChange={changeHandler} style={{ display: 'none'}}/>\r\n            <label htmlFor=\"icon-button-file\" style={{display: 'flex', justifyContent: 'center'}}>\r\n                <IconButton  color=\"primary\" aria-label=\"upload picture\"\r\n                component=\"span\" >\r\n                    <PhotoCamera />\r\n                </IconButton>\r\n            </label>\r\n            <div className=\"output\">\r\n                {error && <div className=\"error\"> { error } </div>}\r\n                {file && <div> { file.name } </div>}\r\n                {file && <ProgressBar file={file} setFile={setFile} lang={language} setError={setError}/>}\r\n            </div>\r\n            <h3 style={{display: 'flex', justifyContent: 'center', paddingTop: '10px'}}>Text language</h3>\r\n            <RadioGroup row\r\n            aria-label=\"gender\"\r\n            name=\"radio-buttons-group\"\r\n            onChange={changeLanguage}\r\n            style={{display: 'flex', justifyContent: 'space-around'}}>\r\n                <FormControlLabel value=\"fin\" control={<Radio />} label=\"Finnish\"/>\r\n                <FormControlLabel value=\"eng\" control={<Radio />} label=\"English\" labelPlacement=\"start\"/>\r\n            </RadioGroup>\r\n        </form>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { motion } from 'framer-motion'\r\n\r\nexport default function ImageGrid({setSelectedImg, setSelectedText}) {\r\n    const { currentUser } = useAuth()\r\n    const { docs } = useFirestore(currentUser.uid)\r\n\r\n    return (\r\n        <div className=\"img-grid\">\r\n            { docs && docs.map(doc => (\r\n            <motion.div className=\"img-wrap\" key={doc.id}\r\n                layout\r\n                whileHover={{ opacity: 1}}\r\n                onClick={() => {\r\n                setSelectedImg(doc.url)\r\n                setSelectedText(doc.text)\r\n            }}>\r\n                <motion.img src={doc.url} alt=\"uploaded pic\"\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    transition={{ delay: 1 }}\r\n                />\r\n            </motion.div>))}\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { firestore } from '../firebase'\r\n\r\nexport default function useFirestore(collection) {\r\n    const [docs, setDocs ] = useState([])\r\n\r\n    useEffect(() => {\r\n        const unsub = firestore.collection(collection)\r\n        .orderBy('createdAt', 'desc')\r\n        .onSnapshot((snap) => {\r\n            let documents = []\r\n            snap.forEach(doc => {\r\n                documents.push({...doc.data(), id: doc.id})\r\n            })\r\n            setDocs(documents)\r\n        })\r\n\r\n        return () => unsub()\r\n    }, [collection])\r\n\r\n    return { docs }\r\n}","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\n\r\nexport default function Modal({selectedImg, setSelectedImg, setSelectedText, selectedText}) {\r\n\r\n    function handleClick(e) {\r\n        if(e.target.classList.contains('backdrop')) {\r\n            setSelectedImg(null)\r\n            setSelectedText(null)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <motion.div className=\"backdrop\" onClick={handleClick}\r\n            initial={{ opacity: 0}}\r\n            animate={{ opacity: 1}}>\r\n            <motion.img src={selectedImg} alt=\"enlarged pic\"\r\n                initial={{ y: \"-10vh\"}}\r\n                animate={{ y: 0 }}/>\r\n            <h3 style={{display: 'flex', justifyContent: 'center', color: 'white'}}>{selectedText}</h3>\r\n        </motion.div>\r\n        </>\r\n    )\r\n}\r\n","import { createContext } from 'react'\r\n\r\nexport const ToolbarContext = createContext(null)","import * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport AccountCircle from '@mui/icons-material/AccountCircle';\r\nimport ArrowCircleLeft from '@mui/icons-material/ArrowCircleLeft';\r\nimport Switch from '@mui/material/Switch';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport Alert from 'react'\r\nimport { ToolbarContext } from \"../contexts/ToolbarContext\"\r\n\r\nexport default function MenuAppBar() {\r\n    const [auth, setAuth] = React.useState(true);\r\n    const [error, setError] = React.useState('');\r\n    const navigate = useNavigate()\r\n    const { text } = React.useContext(ToolbarContext)\r\n  \r\n    const handleChange = (event) => {\r\n      setAuth(event.target.checked);\r\n    };\r\n    \r\n    function handleProfile() {\r\n      try {\r\n        setError(\"\")\r\n        navigate(\"/profile\")\r\n      } catch(e) {\r\n          setError(e.toString)\r\n      }\r\n    }\r\n\r\n    function handleDashboard() {\r\n      try {\r\n        setError(\"\")\r\n        navigate(-1)\r\n      } catch(e) {\r\n          setError(e.toString)\r\n      }\r\n    }\r\n\r\n    function handleUpdate() {\r\n      try {\r\n        setError(\"\")\r\n        navigate(-1)\r\n      } catch(e) {\r\n          setError(e.toString)\r\n      }\r\n    }\r\n\r\n    function handleRoutes(text) {\r\n      switch(text) {\r\n        case \"Photos\":\r\n          return <AccountCircle onClick={handleProfile}/>\r\n        case \"Profile\":\r\n          return <ArrowCircleLeft onClick={handleDashboard}/>\r\n        case \"Update your profile\":\r\n          return <ArrowCircleLeft onClick={handleUpdate}/>\r\n        default:\r\n          return <AccountCircle onClick={handleProfile}/>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        {error && <Alert variant=\"danger\">{error}</Alert>}\r\n        <FormGroup>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={auth}\r\n                onChange={handleChange}\r\n                aria-label=\"login switch\"\r\n              />\r\n            }\r\n            label={auth ? 'Logout' : 'Login'}\r\n          />\r\n        </FormGroup>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <Typography id=\"selection\" variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n              {text}\r\n            </Typography>\r\n            {auth && (\r\n              <div>\r\n                <IconButton\r\n                  size=\"large\"\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls=\"menu-appbar\"\r\n                  aria-haspopup=\"false\"\r\n                  color=\"inherit\"\r\n                >\r\n                  {handleRoutes(text)}\r\n                </IconButton>\r\n              </div>\r\n            )}\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Box>\r\n    );\r\n  }\r\n","import React, { useState, useContext } from 'react'\r\nimport { Card } from 'react-bootstrap'\r\nimport UploadForm from \"./UploadForm\"\r\nimport ImageGrid from \"./ImageGrid\"\r\nimport Modal from \"./Modal\"\r\nimport MenuAppBar from \"./MenuAppBar\"\r\nimport { ToolbarContext } from \"../contexts/ToolbarContext\"\r\n\r\nexport default function Dashboard() {\r\n    const [selectedImg, setSelectedImg] = useState(null)\r\n    const [selectedText, setSelectedText] = useState(null)\r\n    const { setText } = useContext(ToolbarContext)\r\n\r\n    setText(\"Photos\")\r\n\r\n    return (\r\n        <>\r\n            <MenuAppBar/>\r\n            <Card className=\"card\">\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Upload</h2>\r\n                    <UploadForm/>\r\n                </Card.Body>\r\n            </Card>\r\n            <ImageGrid setSelectedImg={setSelectedImg} setSelectedText={setSelectedText}/>\r\n            { selectedImg && <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} setSelectedText={setSelectedText} selectedText={selectedText}/> }\r\n        </>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Form, Button, Card, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\n\r\nexport default function Signup() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { signup }  = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const navigate = useNavigate()\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError('Passwords do not match')\r\n        }\r\n\r\n        try {\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, passwordRef.current.value)\r\n            navigate(\"/\")\r\n        } catch(error) {\r\n            console.log(error)\r\n            setError('Failed to create an account')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className=\"text-center mb-4\">Sign up</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id=\"email\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password-confirm\">\r\n                        <Form.Label>Password Confirmation</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordConfirmRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className=\"w-100\" type=\"submit\">Sign up</Button>\r\n                </Form>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2\">\r\n            Already have an account? <Link to=\"/login\">Log in</Link>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Form, Button, Card, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\n\r\nexport default function Login() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const { login }  = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const navigate = useNavigate()\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await login(emailRef.current.value, passwordRef.current.value)\r\n            navigate(\"/\")\r\n        } catch {\r\n            setError('Failed to sign in')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className=\"text-center mb-4\">Log in</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id=\"email\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className=\"w-100\" type=\"submit\">Log in</Button>\r\n                </Form>\r\n                <div className=\"w-100 text-center mt-2\">\r\n                    <Link to=\"/forgot-password\">Forgot password?</Link>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2\">\r\n            Need an account? <Link to=\"/Signup\">Sign up</Link>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Form, Button, Card, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function ForgotPassword() {\r\n    const emailRef = useRef()\r\n    const { resetPassword }  = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const [message, setMessage] = useState(\"\")\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setMessage('')\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage('Check your inbox for further instructions.')\r\n        } catch {\r\n            setError('Failed to reset password')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className=\"text-center mb-4\">Password reset</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                {message && <Alert variant=\"success\">{message}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id=\"email\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className=\"w-100\" type=\"submit\">Reset password</Button>\r\n                </Form>\r\n                <div className=\"w-100 text-center mt-2\">\r\n                    <Link to=\"/login\">Log in</Link>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2\">\r\n            Need an account? <Link to=\"/Signup\">Sign up</Link>\r\n        </div>\r\n        </>\r\n    )\r\n}","import React, { useRef, useState, useContext } from 'react'\r\nimport { Form, Button, Card, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport MenuAppBar from \"./MenuAppBar\"\r\nimport { ToolbarContext } from '../contexts/ToolbarContext'\r\n\r\nexport default function UpdateProfile() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { currentUser, updateEmail, updatePassword }  = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const { setText } = useContext(ToolbarContext)\r\n    const navigate = useNavigate()\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError('Passwords do not match')\r\n        }\r\n\r\n        const promises = []\r\n        setError(\"\")\r\n        setLoading(true)\r\n\r\n        if (emailRef.current.value !== currentUser.email) {\r\n            promises.push(updateEmail(emailRef.current.value))\r\n        }\r\n\r\n        if(passwordRef.current.value === null) {\r\n            promises.push(updatePassword(passwordRef.current.value))\r\n        }\r\n        \r\n        Promise.all(promises).then(() => {\r\n            navigate(-1)\r\n        }).catch(() => {\r\n            setError(\"Failed to update account\")\r\n        }).finally(() => {\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n    setText(\"Update your profile\")\r\n\r\n    return (\r\n        <>\r\n        <MenuAppBar/>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className=\"text-center mb-4\">Update profile</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id=\"email\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} \r\n                        defaultValue={currentUser.email}></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordRef} \r\n                        placeholder =\"Leave blank to keep the same\"></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password-confirm\">\r\n                        <Form.Label>Password Confirmation</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordConfirmRef} ></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className=\"w-100\" type=\"submit\">Update</Button>\r\n                </Form>\r\n            </Card.Body>\r\n        </Card>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, { useContext } from 'react'\r\nimport { Card } from 'react-bootstrap'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Link } from \"react-router-dom\"\r\nimport MenuAppBar from \"./MenuAppBar\"\r\nimport { ToolbarContext } from \"../contexts/ToolbarContext\"\r\n\r\nexport default function Profile() {\r\n    const { currentUser } = useAuth()\r\n    const { setText } = useContext(ToolbarContext)\r\n\r\n    setText(\"Profile\")\r\n    \r\n\r\n    return (\r\n        <>\r\n            <MenuAppBar/>\r\n            <Card>\r\n                    <Card.Body>\r\n                        <h2 className=\"text-center mb-4\">Profile</h2>\r\n                        <strong>Email: </strong> {currentUser.email}\r\n                        <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\r\n                            Update profile\r\n                        </Link>\r\n                    </Card.Body>\r\n                </Card>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState} from 'react'\r\nimport { Button, Alert } from 'react-bootstrap'\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nexport default function Gdpr() {\r\n    const [agree, setAgree] = useState(null)\r\n    const [error, setError] = useState(null)\r\n    const navigate = useNavigate()\r\n\r\n    const checkboxHandler = () => {\r\n        setAgree(!agree)\r\n    }\r\n\r\n    const btnHandler= () => {\r\n        try {\r\n            setError(\"\")\r\n            navigate(\"/\")\r\n          } catch(e) {\r\n              setError(e.toString)\r\n          }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n    <>\r\n        <div style={{width: 'fit-content', height: '100%', paddingBottom: '50px', paddingTop: '50px'}}>\r\n            {error && <Alert>{error}</Alert>}\r\n            <h2 className=\"text-center mb-4\">Thank you for signing up</h2>\r\n            <h2 className=\"text-center mb-4\">Please review the terms and conditions</h2>\r\n            <div>\r\n                <p> Welcome to our website. If you continue to browse and use this website, you are agreeing to comply with and be bound by the following terms and conditions of use, which together with our privacy policy govern [business name]’s relationship with you in relation to this website. If you disagree with any part of these terms and conditions, please do not use our website. </p>\r\n                <p> The term ‘project’ or ‘us’ or ‘we’ refers to the owner of the website whose registered office is [address]. Our company registration number is [company registration number and place of registration]. The term ‘you’ refers to the user or viewer of our website.</p>\r\n                <p> The content of the pages of this website is for your general information and use only. It is subject to change without notice.</p>\r\n                <p> This project stores your data (email, pictures and text extracted from those pictures) in a Firebase database. Once signed up, your password will not be visible</p>\r\n                <p> We will not give your data to third parties without your consent</p>\r\n                <p> Your use of any information or materials on this website is entirely at your own risk, for which we shall not be liable. It shall be your own responsibility to ensure that any products, services or information available through this website meet your specific requirements.</p>\r\n                <p> Your use of this website and any dispute arising out of such use of the website is subject to the law of Finland</p>\r\n                <p> The use of this website is subject to the following terms of use</p>\r\n            </div>\r\n            <input type=\"checkbox\" id=\"agree\" onChange={checkboxHandler} />\r\n            <label htmlFor=\"agree\"> I agree to <b>terms and conditions</b></label>\r\n            {agree && <Button className=\"btn\" onClick={btnHandler}\r\n                        style={{marginLeft: '30px'}}>\r\n                        Continue\r\n                        </Button>}\r\n        </div>\r\n    </>)\r\n}\r\n","import React from 'react'\r\nimport { Navigate } from \"react-router-dom\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\n\r\nexport default function PrivateRoute({ children }) {\r\n    const { currentUser } = useAuth()\r\n    \r\n    return currentUser ? children : <Navigate to=\"/login\" />\r\n}\r\n","import React, { useState, useMemo } from \"react\"\r\nimport { Container } from 'react-bootstrap'\r\nimport { AuthProvider } from \"../contexts/AuthContext\"\r\nimport { BrowserRouter as Router, Routes, Route} from \"react-router-dom\"\r\nimport Dashboard from \"./Dashboard\"\r\nimport Signup from \"./Signup\"\r\nimport Login from \"./Login\"\r\nimport ForgotPassword from \"./ForgotPassword\"\r\nimport UpdateProfile from \"./UpdateProfile\"\r\nimport Profile from \"./Profile\"\r\nimport Gdpr from \"./Gdpr\"\r\nimport PrivateRoute from \"./PrivateRoute\"\r\nimport { ToolbarContext } from \"../contexts/ToolbarContext\"\r\n\r\nfunction App() {\r\n  const [text, setText] = useState(\"Photos\")\r\n  const value = useMemo(() => ({ text, setText }), [text, setText])\r\n\r\n  return (\r\n    <Container className=\"d-flex aling-items-center justify-content-center\" style={{ minHeight: \"100vh\"}}>\r\n        <div className=\"w-100\" style={{ maxWidth: \"400px\"}}>\r\n          <Router>\r\n            <AuthProvider>\r\n              <ToolbarContext.Provider value={value}>\r\n                <Routes>\r\n                    <Route exact path=\"/\" element={<PrivateRoute>\r\n                                                    <Dashboard/>\r\n                                                    </PrivateRoute>}/>\r\n                    <Route exact path=\"/update-profile\" element={<PrivateRoute>\r\n                                                        <UpdateProfile/>\r\n                                                        </PrivateRoute>}/>\r\n                    <Route path=\"/signup\" element={<Signup/>}/>\r\n                    <Route path=\"/login\" element={<Login/>}/>\r\n                    <Route path=\"/forgot-password\" element={<ForgotPassword/>}/>\r\n                    <Route exact path=\"/profile\" element={<Profile/>}/>\r\n                    <Route path=\"/gdpr\" element={<Gdpr/>}/>\r\n                </Routes>\r\n              </ToolbarContext.Provider>\r\n            </AuthProvider>\r\n          </Router>\r\n        </div>\r\n      </Container>)\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport \"./styles/style.css\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}